<div class="bg-off-white pv4">
  <div class="ph3 mw8 center">
    <h2 class="f2 b lh-title mb2">{{.intro.heading}}</h2>
    <p class="mb4 mw6">{{.intro.text}}</p>

    <div class="flex-ns mhn2-ns mb3">
      {{ range .products }}
      <div class="ph2-ns w-50-ns raise">
      <a href="{{.link}}" class="program-card no-underline pa3 br1 mb2 db raise w-100">
	    <h3 class="b lh-title mb2 text-center">{{.title}}</h3>
        {{ $imgPath := replaceRE "^/" "" .image }}
        {{ $lower := lower $imgPath }}
        {{ if or (hasSuffix $lower ".jpg") (hasSuffix $lower ".jpeg") (hasSuffix $lower ".png") }}
          {{ with resources.Get $imgPath }}
            {{ $smWebp := .Fit "320x320 webp q80" }}
            {{ $mdWebp := .Fit "480x480 webp q80" }}
            {{ $fallback := .Fit "480x480" }}
            <picture>
              <source type="image/webp" srcset="{{ $smWebp.RelPermalink }} 320w, {{ $mdWebp.RelPermalink }} 480w" sizes="(min-width: 40em) 240px, 70vw">
              <img src="{{ $fallback.RelPermalink }}" srcset="{{ $fallback.RelPermalink }} 480w" sizes="(min-width: 40em) 240px, 70vw" width="{{ $fallback.Width }}" height="{{ $fallback.Height }}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
            </picture>
          {{ else }}
            <img src="{{.image}}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
          {{ end }}
        {{ else }}
          <img src="{{.image}}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
        {{ end }}
        <p>{{.text}}</p>
	<p class="program-card-cta link b dib black mb0">Learn more →</p>
      </a>
      </div>
      {{ end }}
    </div>
    <div class="flex-ns mhn2-ns mb3 ">
      {{ range .products2 }}
      <div class="ph2-ns w-50-ns">
      <a href="{{.link}}" class="program-card no-underline pa3 br1 mb2 db raise w-100">
	    <h3 class="b lh-title mb2 text-center">{{.title}}</h3>
        {{ $imgPath := replaceRE "^/" "" .image }}
        {{ $lower := lower $imgPath }}
        {{ if or (hasSuffix $lower ".jpg") (hasSuffix $lower ".jpeg") (hasSuffix $lower ".png") }}
          {{ with resources.Get $imgPath }}
            {{ $smWebp := .Fit "320x320 webp q80" }}
            {{ $mdWebp := .Fit "480x480 webp q80" }}
            {{ $fallback := .Fit "480x480" }}
            <picture>
              <source type="image/webp" srcset="{{ $smWebp.RelPermalink }} 320w, {{ $mdWebp.RelPermalink }} 480w" sizes="(min-width: 40em) 240px, 70vw">
              <img src="{{ $fallback.RelPermalink }}" srcset="{{ $fallback.RelPermalink }} 480w" sizes="(min-width: 40em) 240px, 70vw" width="{{ $fallback.Width }}" height="{{ $fallback.Height }}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
            </picture>
          {{ else }}
            <img src="{{.image}}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
          {{ end }}
        {{ else }}
          <img src="{{.image}}" alt="" class="center db mb3" style="width: 240px" loading="lazy" decoding="async">
        {{ end }}
        <p>{{.text}}</p>
	<p class="program-card-cta link b dib black mb0">Learn more →</p>
      </a>
      </div>
      {{ end }}
    </div>

  </div>
</div>
